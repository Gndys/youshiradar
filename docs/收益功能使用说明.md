# 博主收益状态与收益估算功能说明

## 功能概览

博主管理工具现已支持自动显示YouTube收益状态和估算收益功能，帮助您快速了解博主的变现能力。

## 主要功能

### 1. 收益状态显示（基于YouTube YPP政策）

系统会根据YouTube合作伙伴计划（YPP）的门槛自动判断博主的收益状态：

#### 三个等级：

**🔴 未开通（灰色徽章）**
- 订阅数 < 500
- 无法开通任何变现功能

**🔵 初级YPP（蓝色徽章）**
- 订阅数 ≥ 500 且 < 1000
- 或订阅数 ≥ 1000 但观看量未达标
- 可使用：粉丝打赏功能（Super Thanks、Super Chat、频道会员）

**🟡 完整YPP（金色徽章）**
- 订阅数 ≥ 1000
- 总观看量 ≥ 240万次（相当于4000小时观看时长，假设平均观看时长5分钟）
- 可使用：广告收益分成 + 完整变现功能

### 2. 收益估算

基于CPM（每千次观看收益）模型估算博主的收益：

#### 估算方式：
- **总收益** = 总观看量 / 1000 × CPM值
- **月均收益** = 总收益 / 频道运营月数
- **年估收益** = 月均收益 × 12

#### 默认CPM值：
- 默认：$3.0/1000次观看
- 可调范围：$0.5 - $10.0

#### CPM参考值：
- **低档 ($1-2)**：大众娱乐、音乐、游戏等
- **中档 ($3-4)**：科技、教育、生活方式等
- **高档 ($5-10)**：金融、商业、专业教育等

### 3. 统计数据

顶部统计栏新增：
- **开通收益**：达到完整YPP标准的博主数量
- **总估算收益**：所有博主的月均收益总和

### 4. 筛选功能

新增两个筛选条件：
- **收益状态筛选**：按未开通/初级YPP/完整YPP筛选
- **最小月收益筛选**：按月收益金额筛选博主

### 5. 排序功能

新增两个排序选项：
- **收益状态排序**：按收益等级排序（未开通 < 初级 < 完整）
- **估算收益排序**：按月均收益金额排序

## 使用方法

### 查看收益信息

1. 打开博主管理工具
2. 在表格中查看：
   - **收益状态列**：显示YPP等级徽章，鼠标悬停可查看详细说明
   - **估算收益列**：显示月均收益，鼠标悬停可查看年收益和总收益

### 调整CPM设置

1. 点击工具栏中的 **⚙️ 收益设置** 按钮
2. 在弹出窗口中：
   - 使用滑块或直接输入CPM值（$0.5-$10.0）
   - 或选择地区预设：
     - 亚洲地区：$1.0
     - 欧洲地区：$3.0
     - 美国地区：$5.0
     - 高价值内容：$7.0
3. 点击 **保存并重新计算**
4. 系统会自动重新计算所有博主的收益

### 筛选收益博主

在筛选栏中：
1. 使用 **收益状态** 下拉框选择目标状态
2. 使用 **最小月收益** 输入框设置收益门槛
3. 组合使用多个筛选条件

### 排序功能

点击表头的 **收益状态** 或 **估算收益** 旁边的排序图标（⇅）进行排序。

## 自动计算

收益信息会在以下情况自动计算：
1. **添加新博主**：自动计算收益状态和估算收益
2. **刷新博主数据**：重新获取数据后自动更新收益
3. **批量导入**：每个导入的博主都会自动计算收益
4. **修改CPM值**：所有博主的收益会重新计算
5. **首次加载**：现有博主数据会自动补充收益信息

## 重要提示

⚠️ **收益估算仅供参考**

实际收益会受到多种因素影响：
- 内容类型和质量
- 观众地区分布
- 广告填充率
- 观看时长和完播率
- 季节性因素
- 广告主竞争程度

建议：
- 将估算值作为参考指标，不要作为准确收益数据
- 根据您的实际情况调整CPM值
- 定期更新博主数据以获得更准确的估算

## 数据存储

- CPM配置存储在IndexedDB的settings中，全局共享
- 每个博主的收益信息随博主数据一起保存
- 修改CPM值后会自动更新所有博主的收益数据

## 技术细节

### 收益计算公式

```javascript
// YPP状态判断
if (订阅数 < 500) {
  状态 = "未开通"
} else if (订阅数 >= 500 && 订阅数 < 1000) {
  状态 = "初级YPP"
} else if (订阅数 >= 1000 && 观看量 >= 240万) {
  状态 = "完整YPP"
} else {
  状态 = "初级YPP"
}

// 收益估算
总收益 = (观看量 / 1000) × CPM值
月均收益 = 总收益 / 运营月数
年估收益 = 月均收益 × 12
```

### 数据结构

每个频道对象新增字段：
```javascript
{
  monetizationStatus: 'none' | 'basic' | 'full',  // 收益状态
  estimatedRevenue: number,                        // 估算月收益
  estimatedYearlyRevenue: number,                  // 估算年收益
  totalRevenue: number                             // 总收益
}
```

## 常见问题

**Q: 为什么我的博主显示"初级YPP"而不是"完整YPP"？**
A: 可能是观看量不足240万次。完整YPP需要同时满足订阅数≥1000和观看量≥240万的条件。

**Q: 收益估算准确吗？**
A: 仅供参考。实际收益会因多种因素波动，建议根据自己的经验调整CPM值。

**Q: 如何选择合适的CPM值？**
A: 建议从$3.0开始，然后根据您熟悉的博主的实际收益情况进行调整。

**Q: 修改CPM值会影响已保存的数据吗？**
A: 会的。修改CPM值后，系统会自动重新计算所有博主的收益。

**Q: 能否为不同博主设置不同的CPM值？**
A: 当前版本使用统一的CPM值。如需个性化设置，可以在未来版本中添加此功能。

## 更新日志

### v3.1 (2025-10-24)
- ✅ 添加YouTube YPP收益状态判断功能
- ✅ 添加基于CPM的收益估算功能
- ✅ 新增收益状态和估算收益列
- ✅ 新增收益相关统计数据
- ✅ 新增收益状态和收益范围筛选
- ✅ 新增CPM设置界面
- ✅ 支持地区CPM预设
- ✅ 美化收益显示样式

---

如有问题或建议，欢迎反馈！

